# Get-correct-names-for-biggest-M2TS-file-in-Blue-Ray-structure-AppleScript
Этот скрипт предназначен для нахождения самого большого M2TS файла в папке с Blue-Ray структурой, потом этот файл копируется в другую папку, где ему присваивается новое правильное имя. Правильное имя означает, что файл будет назван не 00003.m2ts, а например, «Свадьба в Малиновке.m2ts».
Новое имя находится по следующему алгоритму: название папки с Blue-Ray структурой ищется во внутреннем содержимом всех торрент файлов, тот торрент-файл в котором нашлось имя папки считается соответствующим этой раздаче торрентом, из него берется publisher-url, то есть ссылка на торрент-трекер, где находится описание фильма. По ссылке открывается в Safari веб-страница с описанием фильма, и из нее берется заголовок (<title></title>), из него удаляется концовка (обычно после двойного двоеточия ::) и то что осталось принимается в качестве названия фильма. Потом это название присваивается M2TS файлу и дальше файл подхватывается программой iFlicks для конвертации и последующего добавления в библиотеку iTunes.
Существующие ограничения: если торрент файл скачан с сервиса, где требуется авторизация для доступа к описанию фильма, то скрипт не сможет получить название фильма. В этом случае нужно запомнить логин/пароль к такому сайту в Safari, чтобы страница с описанием беспрепятственно открывалась по запросу скрипта.
